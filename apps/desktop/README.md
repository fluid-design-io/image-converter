# Image Converter & Optimizer

A modern Electron desktop application for converting and optimizing images with drag-and-drop ease. Built with the image-converter boilerplate.

![Demo GIF](https://github.com/LuanRoger/image-converter/blob/main/images/demo.gif)

## Features

### 🖼️ Image Processing
- **Multiple Formats**: Convert between JPEG, PNG, WebP, and AVIF
- **Quality Control**: Adjustable quality settings (1-100%)
- **Smart Resizing**: Fixed width/height, max width/height with aspect ratio preservation
- **Color Optimization**: PNG quantization for reduced file sizes
- **Batch Processing**: Process multiple images simultaneously

### 🎯 User Experience
- **Drag & Drop**: Intuitive file upload with visual feedback
- **Real-time Preview**: See processing results with file size comparisons
- **Preset Management**: Save and load your favorite settings
- **Destination Control**: Choose where processed files are saved
- **Progress Tracking**: Visual indicators for processing status

### 🛠️ Technical Features
- **Sharp Integration**: High-performance image processing with the Sharp library
- **State Management**: Zustand for persistent settings and presets
- **Modern UI**: Shadcn UI components with Tailwind CSS
- **Type Safety**: Full TypeScript support
- **Cross-platform**: Works on Windows, macOS, and Linux

## Libs and tools

### Core 🏍️
- [Electron 35](https://www.electronjs.org)
- [Vite 6](https://vitejs.dev)
- [SWC](https://swc.rs)

### DX 🛠️
- [TypeScript 5.8](https://www.typescriptlang.org)
- [Prettier](https://prettier.io)
- [ESLint 9](https://eslint.org)
- [Zod](https://zod.dev)
- [React Query (TanStack)](https://react-query.tanstack.com)

### UI 🎨
- [React 19](https://reactjs.org)
- [Tailwind 4](https://tailwindcss.com)
- [Shadcn UI](https://ui.shadcn.com)
- [Geist](https://vercel.com/font) as default font
- [i18next](https://www.i18next.com)
- [TanStack Router](https://tanstack.com/router)
- [Lucide](https://lucide.dev)
- [Zustand](https://zustand-demo.pmnd.rs/) for state management
- [React Dropzone](https://react-dropzone.js.org/) for file uploads

### Image Processing 📸
- [Sharp](https://sharp.pixelplumbing.com/) for high-performance image processing

### Test 🧪
- [Vitest](https://vitest.dev)
- [Playwright](https://playwright.dev)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro)

### Packing and distribution 📦
- [Electron Forge](https://www.electronforge.io)

### CI/CD 🚀
- Pre-configured [GitHub Actions workflow](https://github.com/LuanRoger/image-converter/blob/main/.github/workflows/playwright.yml), for test with Playwright

## Directory structure

```plaintext
.
└── ./src/
    ├── ./src/assets/
    │   └── ./src/assets/fonts/
    ├── ./src/components/
    │   ├── ./src/components/template
    │   ├── ./src/components/ui/
    │   ├── ImageProcessingControls.tsx
    │   ├── ProcessedImagesList.tsx
    │   ├── PresetManager.tsx
    │   └── SettingsDialog.tsx
    ├── ./src/helpers/
    │   └── ./src/helpers/ipc/
    │       ├── image/
    │       │   ├── image-channels.ts
    │       │   ├── image-context.ts
    │       │   └── image-listeners.ts
    │       ├── theme/
    │       ├── window/
    │       ├── context-exposer.ts
    │       └── listeners-register.ts
    ├── ./src/layout/
    ├── ./src/lib/
    │   └── store.ts (Zustand store)
    ├── ./src/pages/
    │   ├── HomePage.tsx
    │   ├── SecondPage.tsx
    │   └── ImageConverterPage.tsx
    ├── ./src/style/
    └── ./src/tests/
```

## NPM script

To run any of those scripts:

```bash
bun run <script>
```

- `start`: Start the app in development mode
- `package`: Package your application into a platform-specific executable bundle and put the result in a folder.
- `make`: Generate platform-specific distributables (e.g. .exe, .dmg, etc) of your application for distribution.
- `publish`: Electron Forge's way of taking the artifacts generated by the `make` command and sending them to a service somewhere for you to distribute or use as updates.
- `lint`: Run ESLint to lint the code
- `format`: Run Prettier to check the code (it doesn't change the code)
- `format:write`: Run Prettier to format the code
- `test`: Run the default unit-test script (Vitest)
- `test:watch`: Run the default unit-test script in watch mode (Vitest)
- `test:unit`: Run the Vitest tests
- `test:e2e`: Run the Playwright tests
- `test:all`: Run all tests (Vitest and Playwright)

> The test scripts involving Playwright require the app be builded before running the tests. So, before run the tests, run the `package`, `make` or `publish` script.

## How to use

1. Clone this repository

```bash
git clone <your-repo-url>
cd image-converter
```

2. Install dependencies

```bash
bun install
```

3. Run the app

```bash
bun run start
```

4. Navigate to the Image Converter page and start processing images!

## Usage Guide

### Basic Image Processing
1. **Select Images**: Drag and drop JPG or PNG files onto the drop zone, or click to browse
2. **Configure Settings**: Adjust format, quality, and resize options in the left panel
3. **Process**: Images are automatically processed when dropped
4. **Review Results**: See file size comparisons and processing details
5. **Save**: Processed images are automatically saved to your chosen destination

### Advanced Features
- **Presets**: Save your favorite settings for quick reuse
- **Custom Destinations**: Choose where processed files are saved
- **Batch Processing**: Process multiple images with the same settings
- **Real-time Feedback**: See processing progress and results immediately

### Supported Formats
- **Input**: JPEG (.jpg, .jpeg), PNG (.png)
- **Output**: JPEG, PNG, WebP, AVIF

### Processing Options
- **Quality**: 1-100% (affects file size and visual quality)
- **Resize**: Fixed dimensions or maximum bounds with aspect ratio preservation
- **Quantization**: Reduce color palette for PNG files (smaller file sizes)

## Development

### Adding New Features
1. **IPC Communication**: Add new channels in `src/helpers/ipc/image/image-channels.ts`
2. **Main Process**: Implement handlers in `src/helpers/ipc/image/image-listeners.ts`
3. **Renderer Process**: Expose APIs in `src/helpers/ipc/image/image-context.ts`
4. **UI Components**: Create new components in `src/components/`
5. **State Management**: Update the Zustand store in `src/lib/store.ts`

### Architecture
- **Main Process**: Handles image processing with Sharp library
- **Renderer Process**: Manages UI and user interactions
- **IPC**: Secure communication between processes
- **State Management**: Zustand for persistent settings and UI state

## License

This project is licensed under the MIT License - see the [LICENSE](https://github.com/LuanRoger/image-converter/blob/main/LICENSE) file for details.
